<%- include('../partials/header') %>

  <div class="container">
    <div class="form-card">
      <h1>Delete Item: <%= item.name %></h1>

      <div class="alert alert-error">
        <p><strong>Are you sure you want to delete this item?</strong></p>
        <p>This action cannot be undone.</p>
      </div>

      <div class="detail-card" style="margin-bottom: 2rem;">
        <dl>
          <dt>SKU</dt>
          <dd><%= item.sku %></dd>
          <dt>Category</dt>
          <dd>
            <% if (item.categorySlug) { %>
              <a href="/categories/<%= item.categorySlug %>"><%= item.categoryName %></a>
            <% } else { %>
              -
            <% } %>
          </dd>
          <dt>Price</dt>
          <dd>$<%= (item.priceCents / 100).toFixed(2) %></dd>
          <dt>Quantity</dt>
          <dd><%= item.quantity %></dd>
        </dl>
      </div>

      <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <div class="alert alert-error">
          <ul>
            <% errors.forEach(error => { %>
              <li><%= error %></li>
            <% }); %>
          </ul>
        </div>
      <% } %>

      <form method="POST" action="/items/<%= item.id %>?_method=DELETE" class="delete-form">
        <div class="form-group">
          <label for="adminPassword">Admin Password *</label>
          <input
            type="password"
            id="adminPassword"
            name="adminPassword"
            required
            class="form-control"
            placeholder="Enter admin password to confirm deletion"
            autofocus
          >
          <small class="form-help">Required for deleting items</small>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-danger">Delete Item</button>
          <a href="/items/<%= item.id %>" class="btn btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>

<%- include('../partials/footer') %>

